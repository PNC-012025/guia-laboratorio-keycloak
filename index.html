
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Integracion Keycloak con SpringBoot (Con patron BFF)</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/claat-public/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="codelab-deployment"
                  title="Integracion Keycloak con SpringBoot (Con patron BFF)"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Conceptos Basicos" duration="15">
        <h2 is-upgraded>¿Que es Keycloak?</h2>
<p>Keycloak es un producto de software de código abierto que permite el inicio de sesión único con gestión de identidades y accesos, diseñado para aplicaciones y servicios modernos.</p>
<h2 is-upgraded>Patron BFF</h2>
<p>El patrón BFF hace referencia al concepto de Backend For FrontEnd. Cuando nosotros diseñamos muchas de nuestras aplicaciones nos encontramos en situaciones en las que tenemos diseñado un FrontEnd realizado en JavaScript contra un Backend desarrollado en la tecnología que nos plazca pero muchas veces enfocado a Servicios REST  . En muchos casos el BackEnd esta diseñado de una forma neutra es decir publica una información de la que cualquier cliente puede beneficiarse . Eso sí cada cliente dispondrá de un interface de usuario diferente a otros . Al publicar la información de forma muy neutra todos los clientes se adaptarán a ella  , pero cada uno de los cuales necesitará realizar un esfuerzo diferente para cargar los datos necesarios que presenta. <a href="https://www.arquitecturajava.com/que-es-el-patron-bff/" target="_blank">Fuente: ArquiteturaJava</a></p>
<h2 is-upgraded>¿Por que BFF con Keycloak?</h2>
<p>Usando un patron BFF en nuestro Backend tenemos las siguientes ventajas</p>
<ul>
<li>1 - Separacion de preocupaciones <ul>
<li>El frontend se centra en la UI, y no necesita preocuparse por autenticación compleja ni detalles de autorización.</li>
<li>El BFF se encarga de la autenticación con Keycloak, gestión de tokens, transformación de datos, y llamadas a APIs internas.</li>
</ul>
</li>
<li>2 - Seguridad y control de acceso <ul>
<li>El BFF maneja la validación del JWT, verifica roles/permisos y controla qué rutas están permitidas.</li>
<li>El frontend nunca toca directamente Keycloak ni otros microservicios.</li>
</ul>
</li>
<li>3 - Mejor manejo de tokens <ul>
<li>El BFF puede usar tokens más seguros (HttpOnly cookies) y mantener tokens de refresco lejos del frontend.</li>
<li>También puede actuar como proxy para renovar tokens automáticamente.</li>
</ul>
</li>
<li>4 - Customizacion por cliente <ul>
<li>Una app móvil puede tener distintos requerimientos de datos que una app web.</li>
<li>Con BFF, cada frontend tiene su propio backend adaptado a sus necesidades (datos resumidos, transformados, cacheados, etc.).</li>
</ul>
</li>
<li>5 - Facilita cambios sin afectar todo <ul>
<li>Cambios en un BFF solo afectan a su cliente.</li>
<li>Es más fácil de probar, desplegar y mantener.</li>
</ul>
</li>
</ul>
<p><strong>Listas</strong></p>
<ul>
<li>how to set the amount of time each slide will take to finish</li>
<li>how to include code snippets</li>
<li>how to hyperlink items</li>
<li>how to include images</li>
<li>other stuff</li>
</ul>
<p><strong>Bloques de código</strong></p>
<pre><code language="language-js" class="language-js">console.log(&#34;Este es un bloque de código&#34;);
</code></pre>
<p><strong>Enlaces</strong></p>
<p><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">Youtube</a></p>
<p><strong>Imágenes</strong></p>
<p class="image-container"><img alt="alt-text-here" src="img/1314220771139fd7.png"></p>
<p><strong>Tablas</strong></p>
<table>
<tr><td colspan="1" rowspan="1"><p>Columna 1</p>
</td><td colspan="1" rowspan="1"><p>Columna 2</p>
</td></tr>
<tr><td colspan="1" rowspan="1"><p>Valor 1</p>
</td><td colspan="1" rowspan="1"><p>Valor 2</p>
</td></tr>
</table>
<p><strong>Notas</strong></p>
<aside class="warning"><p> ⚠️ Esta es una nota de advertencia o de información importante. Puedes incluir varias líneas de texto en una nota. También puedes incluir código:</p>
<pre><code language="language-js" class="language-js">console.log(&#34;Este es un bloque de código&#34;);
</code></pre>
<p>O puedes incluir cualquier otro tipo de contenido en formato Markdown.</p>
</aside>
<aside class="special"><p> ✅ Esta es una nota positiva. Puedes usarla para resaltar información importante o útil. De igual forma puedes incluir varias líneas de texto. También puedes incluir enlaces, imágenes o cualquier otro tipo de contenido en formato <code>Markdown</code>.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Segunda página" duration="5">
        <h2 is-upgraded>Subtitulo en otra página</h2>
<p>Acá puedes incluir más contenido, como texto, imágenes, enlaces, etc.</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/claat-public/native-shim.js"></script>
  <script src="https://storage.googleapis.com/claat-public/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/claat-public/prettify.js"></script>
  <script src="https://storage.googleapis.com/claat-public/codelab-elements.js"></script>
  <script src="//support.google.com/inapp/api.js"></script>

<script>
  const fabs = document.querySelector("#fabs");
  const done = document.querySelector("#done");
  const codelabNavButtons = document.querySelector("#codelab-nav-buttons");
  const arrowBack = document.querySelector("#arrow-back");
  fabs.removeChild(done);
  codelabNavButtons.removeChild(arrowBack);
</script>
</body>
</html>
